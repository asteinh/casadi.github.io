---
date: 2014-10-13T20:07:19Z
draft: false
title: "Teaser"
description: "no description"
weight: 2
mode: "manual"
---


<div class="row">
  <div class="col-md-6">

    Single-shooting optimal control example:
    <div class="multisnip">
{{< highlight octave >}}
import casadi.*


% control vector
u = MX.sym('u',5,1);

x = 1 % initial state
for i=1:5
  % propagate state with u[i]
  x = x+cos(x)+2*tanh(u(i));
end

nlp = struct;
nlp.x = u;       % decision vars
nlp.f = dot(u,u);% objective
nlp.g = x;       % constraints

solver = nlpsol('solver','ipopt',nlp);
res = solver('x0',1,'lbg',6,'ubg',6);

plot(full(res.x))
{{< /highlight >}}
{{< highlight python >}}
from casadi import *


# control vector
u = MX.sym('u',5,1)

x = 1 # initial state
for i in range(5):
  # propagate state with u[i]
  x = x+cos(x)+2*tanh(u[i])


nlp = {}
nlp['x'] = u        # decision vars
nlp['f'] = dot(u,u) # objective
nlp['g'] = x        # constraints

solver = nlpsol('solver','ipopt',nlp)
res = solver(x0=1,lbg=6,ubg=6)

plot(res["x"])
{{< /highlight >}}
{{< highlight cpp >}}
#include <casadi/casadi.hpp>
using namespace casadi;

// control vector
MX u = MX::sym("u",5,1);

MX x = 1; // initial state
for (int i=0;i<5;++i) {
  // propagate state with u[i]
  x = x+cos(x)+2*tanh(u(i));
}

MXDict nlp;    
nlp["x"] = u;       // decision vars
nlp["f"] = dot(u,u);// objective
nlp["g"] = x;       // constraints

Function solver = nlpsol("solver","ipopt",nlp);
auto res = solver(DMDict{{"x0",1},{"lbg",6},{"ubg",6}});

std::cout << res["x"] << std::endl;

{{< /highlight >}}
</div></div>

  <div class="col-md-6 text-left">
Basic CasADi workflow:
    <ol>
       <li>Create scalar/matrix symbols</li>
       <li>Compose into expressions</li>
       <li>Specify objective and constraint expressions</li>
       <li>Solve! (Jacobian & Hessian computed by CasADi)</li>
    </ol>
    {{< figure src="../conv.png" >}}
  </div>
</div>
